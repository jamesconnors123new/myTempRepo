~Templates:
  CustomerSelectionCriteria:
    SelectCustomerByClientName:
      Forename: ~(ForenameVal)
      Lastname: ~(LastnameVal)
  CredentialsSets:
    StandardEisUserCredentialsSet: &StandardEisUserCredentialsSet
      Email: ~(StandardEisUserName)
      Password: ~(StandardEisPassword)
    EisCoreUserCredentialsSet: &CoreUserCredentialsSet
      Email: ~(CoreEisUserName)
      Password: ~(CoreEisPassword)
  People:
    Person01: &JphPerson01
      Title: Mr
      FirstName: JPHFirstName
      LastName: JPHLastName
      MaritalStatus: Single
      ~Gen(DateOfBirth): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
      Gender: Male
      ~Gen(UkResidentSince): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
      RelationshipWithPolicyholder: NotApplicable
      PrimaryEmploymentStatus:
        Employed: true
        Category: Employed
        Type: Bakery Assistant
        Industry: Fast Food
      SecondaryEmploymentStatus:
        Employed: false
      InsuranceHistory:
        InsurancePreviouslyRefused: false
      NonRtaConvictions: false

~ConcretePatterns:

~GlobalSettings:
  - ~Setting: #Echelon Home
      ~Src: EnvVar
      ~Id: EISLoginURL
  - ~Setting: #Client Group Id
      ~Src: EnvVar
      ~Id: ClientGroupId
  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEisUserName
  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEisPassword
  - ~Setting:
      ~Src: EnvVar
      ~Id: CoreEisUserName
  - ~Setting:
      ~Src: EnvVar
      ~Id: CoreEisPassword
  - ~Setting:
      ~Src: EnvVar
      ~Id: TestingType
  - ~Setting:
      ~Src: EnvVar
      ~Id: AreaOfBusiness
  - ~Setting:
      ~Src: EnvVar
      ~Id: AreaOfTesting
  - ~Setting:
      ~Src: EnvVar
      ~Id: LogicalPattern
  - ~Setting:
      ~Src: EnvVar
      ~Id: Team
  - ~Setting:
      ~Src: EnvVar
      ~Id: TestingTeam

~CommonInitActivities:

~TestCases:
  - ~TestCase:
      ~CaseId: &caseId EX-DB-0001
      ~Headline: Add Ageas customer home quotes and policies with Direct Debit payment for MTA General flow package
      ~InitiationActivities:
        - ~Activity:
            ~Role: >
              Initiate cases
            ~Type: Act
            ~Action: InitiateList
            ~ControlData:
              Common:
                EmailSequenceNumber: "000"
                DomainName: n0ie34cm.mailosaur.net
              Instances:
                - Identities:
                    - TestID|SCA01_002
                  InstanceValues:
                    CustomerBrand: Rias
                    PolicyBrand: Rias
                    Affinity: RHCC
                    LastnameVal: Testzxz
                    Title: Ms
                    ForenameVal: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)UD
                    MaritalStatus: Widowed
                    Gender: Female
                    CorrespondenceHouseIdentifier: 41
                    CorrespondencePostcode: EH41 3BH
                    RiskAddressHouseIdentifier: 41
                    RiskPostcode: EH41 3BH
                    ~Gen(DateOfBirth): DateRelToTodayAsStr|-16433|dd/MM/yyyy
                    ~Gen(UkResidentSince): DateRelToTodayAsStr|-16433|dd/MM/yyyy


      ~Stages:
        - ~Stage:
            ~Activities:
              - ~Activity:
                  ~Label: CreateClientOnEis
                  ~Role: >
                    Create a customer on EIS
                  ~Type: Act
                  ~Action: CreateClientOnEis
                  ~ControlData:
                    UserCredentials: *StandardEisUserCredentialsSet
                    SalesDetails:
                      QuotesDetails:
                        Brand: ~(CustomerBrand)
                      ProposerPersonalDetails:
                        Title: ~(Title)
                        FirstName: ~(ForenameVal)
                        LastName: ~(LastnameVal)
                        MaritalStatus: ~(MaritalStatus)
                        DateOfBirth: ~(DateOfBirth)
                        Gender: ~(Gender)
                        UkResidentSince: ~(UkResidentSince)
                      ProposerContactDetails:
                        CorrespondenceAddress:
                          HouseIdentifier: ~(CorrespondenceHouseIdentifier)
                          Postcode: ~(CorrespondencePostcode)
                        MainTelephoneNumber: "07445345345"
                        EmailAddress: ~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
                      MarketingChoice:
                        Postal: false
                        Email: true
                        Telephone: false
                        SMS: true
                  ~Unconditionals: