~Templates:
  CustomerSelectionCriteria:
    SelectCustomerByClientName:
      Forename: ~(ForenameVal)
      Lastname: ~(LastnameVal)
  CredentialsSets:
    StandardEisUserCredentialsSet: &StandardEisUserCredentialsSet
      Email: ~(StandardEisUserName)
      Password: ~(StandardEisPassword)
    EisCoreUserCredentialsSet: &CoreUserCredentialsSet
      Email: ~(CoreEisUserName)
      Password: ~(CoreEisPassword)
  People:
    Person01: &Person01
      Title: Mr
      FirstName: JPHFirstName
      LastName: JPHLastName
      MaritalStatus: Single
      ~Gen(DateOfBirth): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
      Gender: Male
      ~Gen(UkResidentSince): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
      RelationshipWithPolicyholder: NotApplicable
      PrimaryEmploymentStatus:
        Employed: true
        Category: Employed
        Type: Bakery Assistant
        Industry: Fast Food
      SecondaryEmploymentStatus:
        Employed: false
      InsuranceHistory:
        InsurancePreviouslyRefused: false
      NonRtaConvictions: false



  StandardPolicyDetails: &StandardPolicyDetails
    QuotesDetails:
#      Affinity: AHDW #ShortForm Echelon
      Affinity: AHCC #ShortForm EIS
      Brand: Ageas
      ~Gen(InceptionDate): DateRelToTodayAsStr|0|dd/MM/yyyy
      ProductType: Home #EisOnlyField?

    InsuranceDetails:
      TypeOfHouseHoldCover:
        Buildings: true
        Contents: true
        BuildingAccidentalDamage: false
        ContentAccidentalDamage: false
        ~Ref(OptionalExtras): InstanceOptionalExtras  #EisOnlyField?
      InsuredAmount: #Rebuilding Cost
        BuildingVoluntaryExcess: 100
        ContentVoluntaryExcess: 100
        RebuildingCost: 100000
        ContentSum: 70000
      InsuranceHistory:
        ContentClaimFreeYears: 0
        BuildingClaimFreeYears: 0
        InsurancePreviouslyRefused: false
        PreviousInsurance: false
      ContentDetails:
        Safe: true
        SpecifiedItemsAvailable: false #EisOnlyField?
        ~Ref(SpecifiedItems): InstanceSpecifiedItems #EisOnlyField?
        UnspecifiedItems: #EisOnlyField?
          CoverStatus: false #EisOnlyField?
          ItemAmount: 3333 #EisOnlyField?
      BuildingDetails:
#        BuildingType: Detached #Not an option in EIS dropdown therefore set to House
        BuildingType: House # EIS
#        StructureType: Standard
        StructureType: Detached House  #EisOnlyField?
        ConstructionType: Standard
        YearBuilt: 2010
        NumberOfBedrooms: 2
        RiskAddress:
          HouseIdentifier: "1"
          Postcode: NG173AS
        AdditionalInformation:
          ListingStatus: false
          BuildingWorkStatus: false
          GoodRepairStatus: true
          GeologicalThreats: false
          FreeFromFloodingThreats: true
      Usage:
        NonFamilyLodger: false #Need to update for - how many students lodger or non student lodger.
        LetWithSublet: false
        BusinessUse: false
        BusinessUsage: #EisOnlyField?
          BusinessUse: false
          ClericalUse: false #EisOnlyField?
          PropertyUse: meetings #EisOnlyField?
        HolidayHomeStatus: false #Boolean for now
        Occupancy: Occupied
      Security:
        Locks: true
        Alarms: Basic DIY Alarm
        NeighbourhoodWatch: true
      ProposerRelationshipToRisk:
        LegalRelationship: Owned #Leased/Rented/Owned
        FirstTimeBuyers: false
#    PreferredDeliveryMethod: Email # Not present in EIS
    PreferredDeliveryMethod: Print # Alt for EIS
    ProposerPersonalDetails:
      Title: Mr
      FirstName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
      LastName: Testzxz
#      FirstName: ~(Index)~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
#      LastName: ~(Index)Testzxz
#      DerivedName: ~(Index)~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) ~(Index)Testzxz
#      DerivedName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) Testzxz
      DerivedName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) Testzxz

      MaritalStatus: Single
      ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
      Gender: Male
      ~Gen(UkResidentSince): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
      PrimaryEmploymentStatus:
        Employed: true
        Category: Employee
        Type: BakeryAssistant
        Industry: FastFood
      SecondaryEmploymentStatus:
        Employed: false
    ProposerContactDetails:
      CorrespondenceAddress:
        HouseIdentifier: "1"
        Postcode: ~(Postcode)
      MainTelephoneNumber: "07345345345"
#      EmailAddress: ~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
      EmailAddress: ~(Index)_~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
    MarketingChoice:
      SMS: false
      Email: false
      Postal: true
      Telephone: true
    OtherDetails: #Policy User Fields
      SufferedLossNotResultedInClaim: false
    DynamicUnderwriterQuestions:
      NumberOfBathroom: "1"
      WallConstructionType: Brick
      RoofConstructionType: Concrete
      NumberOfDaysPropertyLeftUnoccupied: 0
      PercentageOfFlatRoof: 35
      PaymentType: Annual
      UnsatisfiedCountyCourtJudgements: false
      ResidentDeclaredBankrupt: false
      ExtendedHouse: false
      UnspentCriminalConviction: false #EisOnlyField?
      NumberOfPeopleLive:
        Children: 2
        Adult: 2
        Pet:
          Cat: false
          Dog: false
          Other: false #if first two options are true thne other should not be true. condition
#      PropertyOwned: Owned #Echelon
      PropertyOwned: OwnedOutright #EIS
    JointPolicyHolderStatus: false
    ConsentToRenew: false #EisOnlyField?
    JointPolicyHolder: *Person01
    JointPolicyHolderDetails: *Person01
    Index: ~(Index)



  # Has Buildings And Contents Accidental Damge
  # Has a Joint PolicyHolder
  # Has Personal Belongings Away From Home
  ComplexPolicyDetails: &ComplexPolicyDetails
    QuotesDetails:
      #      Affinity: AHDW #ShortForm Echelon
      Affinity: AHCC #ShortForm EIS
      Brand: Ageas
      ~Gen(InceptionDate): DateRelToTodayAsStr|0|dd/MM/yyyy
      ProductType: Home #EisOnlyField?
    InsuranceDetails:
      TypeOfHouseHoldCover:
        Buildings: true
        Contents: true
        BuildingAccidentalDamage: true
        ContentAccidentalDamage: true
        ~Ref(OptionalExtras): InstanceOptionalExtras  #EisOnlyField?
      InsuredAmount: #Rebuilding Cost
        BuildingVoluntaryExcess: 100
        ContentVoluntaryExcess: 100
        RebuildingCost: 100000
        ContentSum: 70000
      InsuranceHistory:
        ContentClaimFreeYears: 2
        BuildingClaimFreeYears: 1
        InsurancePreviouslyRefused: false
        PreviousInsurance: false
      ContentDetails:
        Safe: true


        #        SpecifiedItemsAvailable: false #EisOnlyField?
        #        ~Ref(SpecifiedItems): InstanceSpecifiedItems #EisOnlyField?
        SpecifiedItemsAvailable: true
        SpecifiedItems:
          InHome:
            - Item: Specified Contents
              Description: PC and other electronics
              Value: 10
#            - Item: Valuables
#              Description: Phone and Watches
#              Value: 3000
#            - Item: Items At University/College
#              Description: Books
#              Value: 150
#            - Item: Pictures
#              Description: Portraits
#              Value: 1000
#            - Item: Precious Metals
#              Description: Gold Bar
#              Value: 2000
#            - Item: Specified Contents
#              Description: PC and other electronics
#              Value: 5000
          AwayHome:
            - Item: Electrical Goods
              Description: Electrical Goods
              Value: 10
            - Item: Bicycle
              Description: Mount Bicycle
              Value: 10

#            - Item: Camcorders
#              Description: Camcorders
#              Value: 300
#            - Item: Car Audio Equipment
#              Description: Car Audio Equipment
#              Value: 200
#            - Item: Computer Equipment
#              Description: Computer Equipment
#              Value: 1200
#            - Item: Contact Lenses
#              Description: Contact Lenses
#              Value: 250
#            - Item: Electrical Goods
#              Description: Electrical Goods
#              Value: 1300
#            - Item: Furs
#              Description: Furs
#              Value: 300
#            - Item: Golfing Equipment
#              Description: Golf Stick
#              Value: 2100
#            - Item: Guns
#              Description: Guns
#              Value: 3000
#            - Item: Hifi / TV and Video Equipment
#              Description: Netflix
#              Value: 350
#            - Item: High Risk Sports Equipment
#              Description: High Ball
#              Value: 600
#            - Item: Jewellery/Watches
#              Description: Jewellery/Watches
#              Value: 500
#            - Item: Miscellaneous Valuables
#              Description: Miscellaneous Valuables
#              Value: 300
#            - Item: Mobile Phone(s)
#              Description: Mobile Phone(s)
#              Value: 2300
#            - Item: Money and Credit Cards
#              Description: Money and CreditCards
#              Value: 3000
#            - Item: Musical Instruments (for Amateur use)
#              Description: Musical Saxaphone
#              Value: 390
#            - Item: Pedal Cycles
#              Description: Kids Cycles
#              Value: 300
#            - Item: Porcelain
#              Description: Furs
#              Value: 300
#            - Item: Portable Medical Equipment
#              Description: Portable Medical Equipment
#              Value: 200
#            - Item: Precious Metals
#              Description: Precious Metals
#              Value: 400
#            - Item: Bicycle
#              Description: Mount Bicycle
#              Value: 2300

        UnspecifiedItems: #EisOnlyField?
          CoverStatus: true #EisOnlyField?
          ItemAmount: 3333 #EisOnlyField?

      BuildingDetails:
        #        BuildingType: Detached #Not an option in EIS dropdown therefore set to House
        BuildingType: House # EIS
        #        StructureType: Standard
        StructureType: Detached House  #EisOnlyField?
        ConstructionType: Standard
        YearBuilt: 2010
        NumberOfBedrooms: 2
        RiskAddress:
          HouseIdentifier: "1"
          Postcode: NG173AS
        AdditionalInformation:
          ListingStatus: false
          BuildingWorkStatus: false
          GoodRepairStatus: true
          GeologicalThreats: false
          FreeFromFloodingThreats: true
      Usage:
        NonFamilyLodger: false #Need to update for - how many students lodger or non student lodger.
        LetWithSublet: false
        BusinessUse: false #Strata just this field, EIS Below
        BusinessUsage: #EisOnlyField?
          BusinessUse: false
          ClericalUse: false #EisOnlyField?
          PropertyUse: meetings #EisOnlyField?
        HolidayHomeStatus: false #Boolean for now
        Occupancy: Occupied
      Security:
        Locks: true
        Alarms: Basic DIY Alarm
        NeighbourhoodWatch: true
      ProposerRelationshipToRisk:
        LegalRelationship: Owned #Leased/Rented/Owned
        FirstTimeBuyers: false
    #    PreferredDeliveryMethod: Email # Not present in EIS
    PreferredDeliveryMethod: Print # Alt for EIS
    ProposerPersonalDetails:
      Title: Mr
      FirstName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
      LastName: Testzxz
      #      FirstName: ~(Index)~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
      #      LastName: ~(Index)Testzxz
      #      DerivedName: ~(Index)~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) Testzxz
      #      DerivedName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) Testzxz
      MaritalStatus: Single
      ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
      Gender: Male
      ~Gen(UkResidentSince): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
      PrimaryEmploymentStatus:
        Employed: true
        Category: Employee
        Type: BakeryAssistant
        Industry: FastFood
      SecondaryEmploymentStatus:
        Employed: false
    ProposerContactDetails:
      CorrespondenceAddress:
        HouseIdentifier: "1"
        Postcode: ~(Postcode)
      MainTelephoneNumber: "07345345345"
      #      EmailAddress: ~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
      EmailAddress: ~(Index)_~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
    MarketingChoice:
      SMS: false
      Email: false
      Postal: true
      Telephone: true
    OtherDetails: #Policy User Fields
      SufferedLossNotResultedInClaim: false
    DynamicUnderwriterQuestions:
      NumberOfBathroom: "1"
      WallConstructionType: Brick
      RoofConstructionType: Concrete
      NumberOfDaysPropertyLeftUnoccupied: 0
      PercentageOfFlatRoof: 35
      PaymentType: Annual
      UnsatisfiedCountyCourtJudgements: false
      ResidentDeclaredBankrupt: false
      ExtendedHouse: false
      UnspentCriminalConviction: false #EisOnlyField?
      NumberOfPeopleLive:
        Children: 2
        Adult: 2
        Pet:
          Cat: false
          Dog: false
          Other: false #if first two options are true thne other should not be true. condition
      #      PropertyOwned: Owned #Echelon
      PropertyOwned: OwnedOutright #EIS
    #    JointPolicyHolderDetails: true
    JointPolicyHolderStatus: false #EIS unable to add joint policy holder details - from first name
    #    JointPolicyHolderStatus: false
    ConsentToRenew: false #EisOnlyField?
    JointPolicyHolder: *Person01
    JointPolicyHolderDetails: *Person01
    Index: ~(Index)


  Define: &DerivedName  ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index) ~(LastnameVal)


~ConcretePatterns:

~GlobalSettings:

  # URLs

  - ~Setting:
      ~Src: EnvVar
      ~Id: EchelonLoginURL
  - ~Setting:
      ~Src: EnvVar
      ~Id: EISLoginURL
  - ~Setting:
      ~Src: EnvVar
      ~Id: PortalLoginURL

  # Credentials
  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEchelonUserName
  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEchelonUserPassword

  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEisUserName
  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardEisPassword

  - ~Setting:
      ~Src: EnvVar
      ~Id: CoreEisUserName
  - ~Setting:
      ~Src: EnvVar
      ~Id: CoreEisPassword

  - ~Setting:
      ~Src: EnvVar
      ~Id: StandardPortalPassword


  # Component Fields for String Building etc.
  - ~Setting:
      ~Src: EnvVar
      ~Id: AreaOfTesting
  - ~Setting:
      ~Src: EnvVar
      ~Id: AreaOfBusiness
  - ~Setting:
      ~Src: EnvVar
      ~Id: LogicalPattern
  - ~Setting:
      ~Src: EnvVar
      ~Id: ClientGroupId
  - ~Setting:
      ~Src: EnvVar
      ~Id: TestingTeam
  - ~Setting:
      ~Src: EnvVar
      ~Id: Team
  - ~Setting:
      ~Src: EnvVar
      ~Id: TestingType
  - ~Setting:
      ~Src: EnvVar
      ~Id: EmailSequenceNumber


  - ~Setting:
      ~Src: EnvVar
      ~Id: RunId

  - ~Setting:
      ~Src: EnvVar
      ~Id: ProjectRootPath



~CommonInitActivities:
  - ~Activity:
      ~Label: LoadStandardClientData
      ~Role: >
        Load client data to allow policy creation
      ~Type: Act
      ~Action: LoadRecSet
      ~ControlData:
        RecSet: EisUi_Variant01_Standard_Clients
        Sources:
          - ~(ProjectRootPath)\Data\Eis\Variant01\~(RunId)\EisUi_Variant01_Standard_Clients(000).yml
          - ~(ProjectRootPath)\Data\Eis\Variant01\~(RunId)\EisUi_Variant01_Standard_Clients
#          - Data/Eis/Variant01/EisUi_Variant01_Standard_Clients(000).yml

  - ~Activity:
      ~Label: LoadComplexClientData
      ~Role: >
        Load client data to allow policy creation
      ~Type: Act
      ~Action: LoadRecSet
      ~ControlData:
        RecSet: EisComplexClients
        Sources:
          - ~(ProjectRootPath)\Data\Eis\Variant01\~(RunId)\EisUi_Variant01_Complex_Clients(000).yml


#~CommonFinalActivities:
#
#
#  - ~Activity:
#      ~Label: ExportStandardDataToFileQuotes
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Variant01_Standard_Quotes
#        Exports:
#          - TestCases:
#              - EISUI_QUOTE_BUILDER_HOME_STANDARD
#            DataItems:
#              - //001/StandardQuoteCreationInEis.QuotesDetails
#
#
#
#  - ~Activity:
#      ~Label: ExportComplexDataToFileQuotes
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Variant01_Complex_Quotes
#        Exports:
#          - TestCases:
#              - EISUI_QUOTE_BUILDER_HOME_COMPLEX
#            DataItems:
#              - //001/ComplexQuoteCreationInEis.QuotesDetails
#
#
#
#
#  - ~Activity:
#      ~Label: ExportStandardDataToFileControlData
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Variant01_Standard_ControlData
#        Exports:
#          - TestCases:
#              - EISUI_QUOTE_BUILDER_HOME_STANDARD
#            DataItems:
##              - //001/StandardQuoteCreationInEis._ControlData.SalesDetails
#              - //001/StandardQuoteCreationInEis._ControlData
#
#
#
#  - ~Activity:
#      ~Label: ExportComplexDataToFileControlData
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Variant01_Complex_ControlData
#        Exports:
#          - TestCases:
#              - EISUI_QUOTE_BUILDER_HOME_COMPLEX
#            DataItems:
##              - //001/ComplexQuoteCreationInEis._ControlData.SalesDetails
#              - //001/ComplexQuoteCreationInEis._ControlData



~CommonFinalActivities:
  - ~Activity:
      ~Label: ExportStandardData
      ~Role:
      ~Type: Act
      ~Action: DataExporter
      ~ControlData:
        ExportDestination:
          Filename: EisUi_Portal_Home_Policies_Standard_Data
        Exports:
          - TestCases:
              - PORTAL_POLICIES_HOME_STANDARD
            DataItems:
              - //003/RegisterNewUser._ControlData.NewRegistrationDetails


  - ~Activity:
      ~Label: ExportComplexData
      ~Role:
      ~Type: Act
      ~Action: DataExporter
      ~ControlData:
        ExportDestination:
          Filename: EisUi_Portal_Home_Policies_Complex_Data
        Exports:
          - TestCases:
              - PORTAL_POLICIES_HOME_COMPLEX
            DataItems:
              - //003/RegisterNewUser._ControlData.NewRegistrationDetails

#  - ~Activity:
#      ~Label: ExportDataToFileA
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisClientsVariant01Data
#        Exports:
#          - TestCases:
#              - EISUI_CLIENTS_0001
#            DataItems:
#              - //001/CreateNewClientQuoteOnEis.QuoteDetails



#  - ~Activity:
#      ~Label: ExportBuildingsOnlyDataToFile
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Portal_Home_Policies_Buildings_Only_Data
#        Exports:
#          - TestCases:
#              - PORTAL-POLICIES-HOME-BUILDINGS-ONLY
#            DataItems:
#              - //003/RegisterNewUser._ControlData.NewRegistrationDetails
#
#
#
#  - ~Activity:
#      ~Label: ExportContentsOnlyDataToFile
#      ~Role:
#      ~Type: Act
#      ~Action: DataExporter
#      ~ControlData:
#        ExportDestination:
#          Filename: EisUi_Portal_Home_Policies_Contents_Only_Data
#        Exports:
#          - TestCases:
#              - PORTAL-POLICIES-HOME-CONTENTS-ONLY
#            DataItems:
#              - //003/RegisterNewUser._ControlData.NewRegistrationDetails

~TestCases:


  - ~TestCase:
      ~CaseId: &caseId EISUI__NEW_CLIENT_TO_PORTAL_REG__STANDARD
      ~Headline: TBC
      ~InitiationActivities:
        - ~Activity:
            ~Role: >
              Initiate cases
            ~Type: Act
            ~Action: InitiateList
            ~ControlData:
              Common:

                Team: ~(Team)
                LogicalPattern: ~(LogicalPattern)
                AreaOfTesting: ~(AreaOfTesting)
                AreaOfBusiness: ~(AreaOfBusiness)
                TestingType: ~(TestingType)
                TestingTeam: ~(TestingTeam)
                EmailSequenceNumber: ~(EmailSequenceNumber)
                ClientGroupId: ~(ClientGroupId)
                DomainName: n0ie34cm.mailosaur.net
                Password: ~(StandardPortalPassword)
                #FirstName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
                LastnameVal: Testzxz
                ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy
                Postcode: NG17 3AS
                JointPolicyHolderDetails: false
              Instances:

                - Identities:
                    - TestID|EISUI_AGEAS-HOME-001-01
                  InstanceValues:
                    Index: A
                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[0].Data.ClientNumber
                - Identities:
                    - TestID|EISUI_AGEAS-HOME-001-02
                  InstanceValues:
                    Index: B
                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[1].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-03
#                  InstanceValues:
#                    Index: C
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[2].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-04
#                  InstanceValues:
#                    Index: D
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[3].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-05
#                  InstanceValues:
#                    Index: E
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[4].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-06
#                  InstanceValues:
#                    Index: F
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[5].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-07
#                  InstanceValues:
#                    Index: G
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[6].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-08
#                  InstanceValues:
#                    Index: H
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[7].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-09
#                  InstanceValues:
#                    Index: I
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[8].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-10
#                  InstanceValues:
#                    Index: J
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[9].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-11
#                  InstanceValues:
#                    Index: K
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[10].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-12
#                  InstanceValues:
#                    Index: L
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[11].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-13
#                  InstanceValues:
#                    Index: M
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[12].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-14
#                  InstanceValues:
#                    Index: N
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[13].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-15
#                  InstanceValues:
#                    Index: O
#                    ~Ref(ClientNumber): //000/LoadStandardClientData.EisUi_Variant01_Standard_Clients[14].Data.ClientNumber




      ~Stages:

        - ~Stage:
            ~Activities:

              - ~Activity:
                  ~Label: StandardQuoteCreationInEis
                  ~Role: >
                    Create a new home quote for Ageas on EIS
                  ~Type: Act
                  ~Action: QuoteCreationInEis


                  ~ControlData:
                    UserCredentials: *StandardEisUserCredentialsSet
                    CoreAppUserCredentials: *CoreUserCredentialsSet
                    SearchCriteria:
                      ClientNumber: ~(ClientNumber)
                    SalesDetails: *StandardPolicyDetails
                  ~Unconditionals:


  - ~TestCase:
      ~CaseId: &caseId EISUI__NEW_CLIENT_TO_PORTAL_REG__COMPLEX
      ~Headline: Add quotes for customer build
      ~InitiationActivities:
        - ~Activity:
            ~Role: >
              Initiate cases
            ~Type: Act
            ~Action: InitiateList
            ~ControlData:
              Common:

                Team: ~(Team)
                LogicalPattern: ~(LogicalPattern)
                AreaOfTesting: ~(AreaOfTesting)
                AreaOfBusiness: ~(AreaOfBusiness)
                TestingType: ~(TestingType)
                TestingTeam: ~(TestingTeam)
                EmailSequenceNumber: ~(EmailSequenceNumber)
                ClientGroupId: ~(ClientGroupId)
                DomainName: n0ie34cm.mailosaur.net
#                ForenameVal: ~(Index)~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
                LastnameVal: Testzxz
                ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy
                Postcode: NG17 3AS
              Instances:

                - Identities:
                    - TestID|EISUI_AGEAS-HOME-001-16
                  InstanceValues:
                    Index: P
                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[0].Data.ClientNumber
                - Identities:
                    - TestID|EISUI_AGEAS-HOME-001-17
                  InstanceValues:
                    Index: Q
                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[1].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-18
#                  InstanceValues:
#                    Index: R
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[2].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-19
#                  InstanceValues:
#                    Index: S
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[3].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-20
#                  InstanceValues:
#                    Index: T
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[4].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-21
#                  InstanceValues:
#                    Index: U
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[5].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-22
#                  InstanceValues:
#                    Index: V
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[6].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-23
#                  InstanceValues:
#                    Index: W
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[7].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-24
#                  InstanceValues:
#                    Index: X
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[8].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-25
#                  InstanceValues:
#                    Index: Y
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[9].Data.ClientNumber
#                - Identities:
#                    - TestID|EISUI_AGEAS-HOME-001-26
#                  InstanceValues:
#                    Index: Z
#                    ~Ref(ClientNumber): //000/LoadComplexClientData.EisComplexClients[10].Data.ClientNumber



      ~Stages:

        - ~Stage:
            ~Activities:

              - ~Activity:
                  ~Label: ComplexQuoteCreationInEis
                  ~Role: >
                    Create a new home quote for Ageas on EIS
                  ~Type: Act
                  ~Action: QuoteCreationInEis


                  ~ControlData:
                    UserCredentials: *StandardEisUserCredentialsSet
                    CoreAppUserCredentials: *CoreUserCredentialsSet
                    SearchCriteria:
                      ClientNumber: ~(ClientNumber)
                    SalesDetails: *ComplexPolicyDetails
                  ~Unconditionals:


        - ~Stage: #3 register new user and pay on Portal
            ~Activities:
              - ~Activity:
                  ~Label: RegisterNewUser
                  ~Role: >
                    Validate new policy can be registered on the portal
                  ~Type: Act
                  ~Action: RegisterNewUser
                  ~ControlData:
                    NewRegistrationDetails:
                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
                      Password: ~(StandardPortalPassword)
                      PolicyNumber: ~(//002/WrapupOnEchelon.PolicyDetails.PolicyNumber)
                      DateOfBirth:  ~(DateOfBirth)
                      Postcode: ~(Postcode)
                      Name: *DerivedName
                  ~Judgements:
                    - RegistrationStatus==false|HardRunFault("Home policy is not registered")
                  ~Unconditionals:
              - ~Activity:
                  ~Label: PaymentOnPortal
                  ~Role: >
                    Completing the payment on portal of policy brought
                  ~Type: Act
                  ~Action: PaymentOnPortal
                  ~ControlData:
                    CustomerCredentials: # *StandardPortalUserCredentialsSet
                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
                      Password: ~(StandardPortalPassword) #~(StandardPortalPassword)
                    QuoteReference: ~(//001/CreateNewQuoteOnEchelon.QuoteDetails.WebReference)
                    InsuranceType: Home
                    CardDetails: #Need to discuss As of now there is no option to add card detals
                      CardHolderName: Test
                      CardNumber: 4444333322221111
                      ExpiryDate: 03/2028
                      CVV: 555
                    TransType: New
                  ~Judgements:
                  ~Unconditionals:

#  - ~TestCase:
#      ~CaseId: &caseId PORTAL-POLICIES-HOME-BUILDINGS-ONLY
#      ~Headline: Create a New Policy on Echelon
#      ~InitiationActivities:
#        - ~Activity:
#            ~Role: >
#              Initiate cases
#            ~Type: Act
#            ~Action: InitiateList
#            ~ControlData:
#              Common:
#                Team: T3
#                LogicalPattern: Mta
#                AreaOfTesting: Por
#                AreaOfBusiness: Bau
#                TestingType: f
#                TestingTeam: Auto
#                EmailSequenceNumber: "000"
#                ClientGroupId: ~(ClientGroupId)
#                DomainName: n0ie34cm.mailosaur.net
#                Password: ~(StandardPortalPassword)
#                LastnameVal: Testzxz
#                ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy
#                Postcode: NG17 3AS
#              Instances:
#                - Identities:
#                    - TestID|-01
#                  InstanceValues:
#                    Index: A
#                    ~Ref(ClientNumber):  //000/LoadClientData.MtaClients[1].Data.ClientNumber
#      ~Stages:
#        - ~Stage: #1 Create Quote on Echelon
#            ~Activities:
#              - ~Activity:
#                  ~Label: CreateNewQuoteOnEchelon
#                  ~Role: >
#                    Create a new quote on Echelon UI
#                  ~Type: Act
#                  ~Action: QuoteCreationInEchelonUI
#                  ~ControlData:
#                    UserCredentials: *StandardEchelonUserCredentialsSet
#                    SearchCriteria:
#                      ClientNumber: ~(ClientNumber)
#                    SalesDetails:
#                      QuotesDetails:
#                        Affinity: AHDW #ShortForm
#                        Brand: Ageas
#                        ~Gen(InceptionDate): DateRelToTodayAsStr|0|dd/MM/yyyy
#                      InsuranceDetails:
#                        TypeOfHouseHoldCover:
#                          Buildings: true
#                          Contents: false
#                          BuildingAccidentalDamage: false
#                          ContentAccidentalDamage: false
#                        InsuredAmount: #Rebuilding Cost
#                          BuildingVoluntaryExcess: 100
#                          #ContentVoluntaryExcess: 100
#                          RebuildingCost: 100000
#                          #ContentSum: 70000
#                        InsuranceHistory:
#                          ContentClaimFreeYears: 0
#                          BuildingClaimFreeYears: 0
#                          InsurancePreviouslyRefused: false
#                          PreviousInsurance: false
#                        #ContentDetails:
#                          #Safe: true
#                        BuildingDetails:
#                          BuildingType: Detached  #
#                          ConstructionType: Standard  #Creation of code for options
#                          YearBuilt: 2010
#                          NumberOfBedrooms: 2
#                          RiskAddress:
#                            HouseIdentifier: 1
#                            Postcode: NG173AS
#                          AdditionalInformation:
#                            ListingStatus: false
#                            BuildingWorkStatus: false
#                            GoodRepairStatus: true
#                            GeologicalThreats: false
#                            FreeFromFloodingThreats: true
#                        Usage:
#                          NonFamilyLodger: false #Need to update for - how many students lodger or non student lodger.
#                          LetWithSublet: false
#                          BusinessUse: false
#                          HolidayHomeStatus: false #Boolean for now
#                          Occupancy: Occupied
#                        Security:
#                          Locks: true
#                          Alarms: Basic DIY Alarm
#                          NeighbourhoodWatch: true
#                        ProposerRelationshipToRisk:
#                          LegalRelationship: Owned #Leased/Rented/Owned
#                          FirstTimeBuyers: false
#                      PreferredDeliveryMethod: Email
#                      ProposerPersonalDetails:
#                        Title: Mr
#                        FirstName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
#                        LastName: Testzxz
#                        MaritalStatus: Single
#                        ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
#                        Gender: Male
#                        ~Gen(UkResidentSince): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
#                        PrimaryEmploymentStatus:
#                          Employed: true
#                          Category: Employee
#                          Type: BakeryAssistant
#                          Industry: FastFood
#                        SecondaryEmploymentStatus:
#                          Employed: false
#                      ProposerContactDetails:
#                        CorrespondenceAddress:
#                          HouseIdentifier: 1
#                          Postcode: ~(Postcode)
#                        MainTelephoneNumber: "07345345345"
#                        EmailAddress: ~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
#                      MarketingChoice:
#                        Postal: true
#                        Email: false
#                        Telephone: true
#                        SMS: false
#                      OtherDetails: #Policy User Fields
#                        SufferedLossNotResultedInClaim: false
#                      DynamicUnderwriterQuestions:
#                        NumberOfBathroom: 1
#                        WallConstructionType: Brick
#                        RoofConstructionType: Concrete
#                        NumberOfDaysPropertyLeftUnoccupied: 0
#                        PercentageOfFlatRoof: 35
#                        PaymentType: Annual
#                        UnsatisfiedCountyCourtJudgements: false
#                        ResidentDeclaredBankrupt: false
#                        ExtendedHouse: false
#                        NumberOfPeopleLive:
#                          Children: 2
#                          Adult: 2
#                          Pet:
#                            Cat: false
#                            Dog: false
#                            Other: false #if first two options are true thne other should not be true. condition
#                        PropertyOwned: Owned
#                      JointPolicyHolder:
#                        Title: Mr
#                        FirstName: JPHFirstName
#                        LastName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
#                        MaritalStatus: Single
#                        ~Gen(DateOfBirth): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
#                        Gender: Male
#                        ~Gen(UkResidentSince): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
#                        RelationshipWithPolicyholder: (None)
#                  ~Unconditionals:
#        - ~Stage: #2 Pay for the quote and generate policy number
#            ~Activities:
#              - ~Activity:
#                  ~Label: WrapupOnEchelon
#                  ~Role: >
#                    Creates the policy on Echelon by wrapping up without payment
#                  ~Type: Act
#                  ~Action: PolicyCreationOnEchelonUI
#                  ~ControlData:
#                    UserCredentials: *StandardEchelonUserCredentialsSet
#                    SearchCriteria:
#                      ClientNumber: ~(ClientNumber)
#                    QuoteDetails:
#                      QuoteReference: ~(//001/CreateNewQuoteOnEchelon.QuoteDetails.QuoteReference)
#                  ~Judgements:
#                  ~Unconditionals:
##        - ~Stage: #3 Register  the new policy on logon to the portal
##            ~Activities:
##                  #Get whether this client is already registered in the CRM
##                  #Judgement , if registered Halt the stage
##              - ~Activity:
##                  ~Label: RetrieveForgottenUsername
##                  ~Role: >
##                    Submit email address to Forgotten Username service and check returned Username matches
##                  ~Type: Act
##                  ~Action: ForgotUsername
##                  ~ControlData:
##                    CustomerCredentials:
##                      Email: dummy@test.com
##                  ~Judgements:
##                    - strEq(UI.Email, "~(_ControlData.CustomerCredentials.Email)")=TRUE|StageCompleted("Halt stage portal registration is already done")))
##                  ~Unconditionals:
##
#              - ~Activity:
#                  ~Label: RegisterNewUser
#                  ~Role: >
#                    Validate new policy can be registered on the portal
#                  ~Type: Act
#                  ~Action: RegisterNewUser
#                  ~ControlData:
#                    NewRegistrationDetails:
#                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
#                      Password: ~(StandardPortalPassword)
#                      PolicyNumber: ~(//002/WrapupOnEchelon.PolicyNumber)
#                      DateOfBirth:  ~(DateOfBirth)
#                      Postcode: ~(Postcode)
#                  ~Judgements:
#                    - RegistrationStatus==false|HardRunFault("Home policy is not registered")
#                  ~Unconditionals:
#        - ~Stage: #3 Complete payment on the portal for the policy
#            ~Activities:
#              - ~Activity:
#                  ~Label: PaymentOnPortal
#                  ~Role: >
#                    Completing the payment on portal of policy brought
#                  ~Type: Act
#                  ~Action: PaymentOnPortal
#                  ~ControlData:
#                    CustomerCredentials: # *StandardPortalUserCredentialsSet
#                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
#                      Password: ~(StandardPortalPassword) #~(StandardPortalPassword)
#                    QuoteReference: ~(//001/CreateNewQuoteOnEchelon.QuoteDetails.WebReference)
#                    InsuranceType: Home
#                    CardDetails: #Need to discuss As of now there is no option to add card detals
#                      CardHolderName: Test
#                      CardNumber: 4444333322221111
#                      ExpiryDate: 03/2028
#                      CVV: 555
#                  ~Judgements:
#                  ~Unconditionals:
#  - ~TestCase:
#      ~CaseId: &caseId PORTAL-POLICIES-HOME-CONTENTS-ONLY
#      ~Headline: Create a New Policy on Echelon
#      ~InitiationActivities:
#        - ~Activity:
#            ~Role: >
#              Initiate cases
#            ~Type: Act
#            ~Action: InitiateList
#            ~ControlData:
#              Common:
#                Team: T3
#                LogicalPattern: Mta
#                AreaOfTesting: Por
#                AreaOfBusiness: Bau
#                TestingType: f
#                TestingTeam: Auto
#                EmailSequenceNumber: "000"
#                ClientGroupId: ~(ClientGroupId)
#                DomainName: n0ie34cm.mailosaur.net
#                Password: ~(StandardPortalPassword)
#                LastnameVal: Testzxz
#                ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy
#                Postcode: NG17 3AS
#              Instances:
#                - Identities:
#                    - TestID|-01
#                  InstanceValues:
#                    Index: A
#                    ~Ref(ClientNumber): //000/LoadClientData.MtaClients[2].Data.ClientNumber
#      ~Stages:
#        - ~Stage: #1 Create Quote on Echelon
#            ~Activities:
#              - ~Activity:
#                  ~Label: CreateNewQuoteOnEchelon
#                  ~Role: >
#                    Create a new quote on Echelon UI
#                  ~Type: Act
#                  ~Action: QuoteCreationInEchelonUI
#                  ~ControlData:
#                    UserCredentials: *StandardEchelonUserCredentialsSet
#                    SearchCriteria:
#                      ClientNumber: ~(ClientNumber)
#                    SalesDetails:
#                      QuotesDetails:
#                        Affinity: AHDW #ShortForm
#                        Brand: Ageas
#                        ~Gen(InceptionDate): DateRelToTodayAsStr|0|dd/MM/yyyy
#                      InsuranceDetails:
#                        TypeOfHouseHoldCover:
#                          Buildings: false
#                          Contents: true
#                          BuildingAccidentalDamage: false
#                          ContentAccidentalDamage: false
#                        InsuredAmount: #Rebuilding Cost
#                          #BuildingVoluntaryExcess: 100
#                          ContentVoluntaryExcess: 100
#                          #RebuildingCost: 100000
#                          ContentSum: 70000
#                        InsuranceHistory:
#                          ContentClaimFreeYears: 0
#                          BuildingClaimFreeYears: 0
#                          InsurancePreviouslyRefused: false
#                          PreviousInsurance: false
#                        ContentDetails:
#                          Safe: true
#                        BuildingDetails:
#                          BuildingType: Detached  #
#                          ConstructionType: Standard  #Creation of code for options
#                          YearBuilt: 2010
#                          NumberOfBedrooms: 2
#                          RiskAddress:
#                            HouseIdentifier: 1
#                            Postcode: NG173AS
#                          AdditionalInformation:
#                            ListingStatus: false
#                            BuildingWorkStatus: false
#                            GoodRepairStatus: true
#                            GeologicalThreats: false
#                            FreeFromFloodingThreats: true
#                        Usage:
#                          NonFamilyLodger: false #Need to update for - how many students lodger or non student lodger.
#                          LetWithSublet: false
#                          BusinessUse: false
#                          HolidayHomeStatus: false #Boolean for now
#                          Occupancy: Occupied
#                        Security:
#                          Locks: true
#                          Alarms: Basic DIY Alarm
#                          NeighbourhoodWatch: true
#                        ProposerRelationshipToRisk:
#                          LegalRelationship: Owned #Leased/Rented/Owned
#                          FirstTimeBuyers: false
#                      PreferredDeliveryMethod: Email
#                      ProposerPersonalDetails:
#                        Title: Mr
#                        FirstName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
#                        LastName: Testzxz
#                        MaritalStatus: Single
#                        ~Gen(DateOfBirth): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
#                        Gender: Male
#                        ~Gen(UkResidentSince): DateRelToTodayAsStr|-14800|dd/MM/yyyy #39 years Old
#                        PrimaryEmploymentStatus:
#                          Employed: true
#                          Category: Employee
#                          Type: BakeryAssistant
#                          Industry: FastFood
#                        SecondaryEmploymentStatus:
#                          Employed: false
#                      ProposerContactDetails:
#                        CorrespondenceAddress:
#                          HouseIdentifier: 1
#                          Postcode: ~(Postcode)
#                        MainTelephoneNumber: "07345345345"
#                        EmailAddress: ~(TestingTeam)_~(EmailSequenceNumber)_~(Team)_~(LogicalPattern)_~(AreaOfTesting)_~(AreaOfBusiness)_~(TestingType)@~(DomainName)
#                      MarketingChoice:
#                        Postal: true
#                        Email: false
#                        Telephone: true
#                        SMS: false
#                      OtherDetails: #Policy User Fields
#                        SufferedLossNotResultedInClaim: false
#                      DynamicUnderwriterQuestions:
#                        NumberOfBathroom: 1
#                        WallConstructionType: Brick
#                        RoofConstructionType: Concrete
#                        NumberOfDaysPropertyLeftUnoccupied: 0
#                        PercentageOfFlatRoof: 35
#                        PaymentType: Annual
#                        UnsatisfiedCountyCourtJudgements: false
#                        ResidentDeclaredBankrupt: false
#                        ExtendedHouse: false
#                        NumberOfPeopleLive:
#                          Children: 2
#                          Adult: 2
#                          Pet:
#                            Cat: false
#                            Dog: false
#                            Other: false #if first two options are true thne other should not be true. condition
#                        PropertyOwned: Owned
#                      JointPolicyHolder:
#                        Title: Mr
#                        FirstName: JPHFirstName
#                        LastName: ~(AreaOfTesting)~(LogicalPattern)~(ClientGroupId)~(Index)
#                        MaritalStatus: Single
#                        ~Gen(DateOfBirth): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
#                        Gender: Male
#                        ~Gen(UkResidentSince): DateRelToTodayAsStr|-12800|dd/MM/yyyy #39 years Old
#                        RelationshipWithPolicyholder: (None)
#                  ~Unconditionals:
#        - ~Stage: #2 Pay for the quote and generate policy number
#            ~Activities:
#              - ~Activity:
#                  ~Label: WrapupOnEchelon
#                  ~Role: >
#                    Creates the policy on Echelon by wrapping up without payment
#                  ~Type: Act
#                  ~Action: PolicyCreationOnEchelonUI
#                  ~ControlData:
#                    UserCredentials: *StandardEchelonUserCredentialsSet
#                    SearchCriteria:
#                      ClientNumber: ~(ClientNumber)
#                    QuoteDetails:
#                      QuoteReference: ~(//001/CreateNewQuoteOnEchelon.QuoteDetails.QuoteReference)
#                  ~Judgements:
#                  ~Unconditionals:
#              #        - ~Stage: #3 Register  the new policy on logon to the portal
#              #            ~Activities:
#              #                  #Get whether this client is already registered in the CRM
#              #                  #Judgement , if registered Halt the stage
#              #              - ~Activity:
#              #                  ~Label: RetrieveForgottenUsername
#              #                  ~Role: >
#              #                    Submit email address to Forgotten Username service and check returned Username matches
#              #                  ~Type: Act
#              #                  ~Action: ForgotUsername
#              #                  ~ControlData:
#              #                    CustomerCredentials:
#              #                      Email: dummy@test.com
#              #                  ~Judgements:
#              #                    - strEq(UI.Email, "~(_ControlData.CustomerCredentials.Email)")=TRUE|StageCompleted("Halt stage portal registration is already done")))
#              #                  ~Unconditionals:
#              #
#              - ~Activity:
#                  ~Label: RegisterNewUser
#                  ~Role: >
#                    Validate new policy can be registered on the portal
#                  ~Type: Act
#                  ~Action: RegisterNewUser
#                  ~ControlData:
#                    NewRegistrationDetails:
#                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
#                      Password: ~(StandardPortalPassword)
#                      PolicyNumber: ~(//002/WrapupOnEchelon.PolicyNumber)
#                      DateOfBirth: ~(DateOfBirth)
#                      Postcode: ~(Postcode)
#                  ~Judgements:
#                    - RegistrationStatus==false|HardRunFault("Home policy is not registered")
#                  ~Unconditionals:
#        - ~Stage: #3 Complete payment on the portal for the policy
#            ~Activities:
#              - ~Activity:
#                  ~Label: PaymentOnPortal
#                  ~Role: >
#                    Completing the payment on portal of policy brought
#                  ~Type: Act
#                  ~Action: PaymentOnPortal
#                  ~ControlData:
#                    CustomerCredentials: # *StandardPortalUserCredentialsSet
#                      Email: X~(//001/CreateNewQuoteOnEchelon.QuoteDetails.ClientNumber)@ageas.co.uk
#                      Password: ~(StandardPortalPassword) #~(StandardPortalPassword)
#                    QuoteReference: ~(//001/CreateNewQuoteOnEchelon.QuoteDetails.WebReference)
#                    InsuranceType: Home
#                    CardDetails: #Need to discuss As of now there is no option to add card detals
#                      CardHolderName: Test
#                      CardNumber: 4444333322221111
#                      ExpiryDate: 03/2028
#                      CVV: 555
#                  ~Judgements:
#                  ~Unconditionals: